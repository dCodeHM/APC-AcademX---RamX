<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="author" content="APC AcademX">
    <title>APC AcademX | Welcome</title>
    <link rel="stylesheet" href="./css/examheader.css">
    <link rel="stylesheet" href="./css/examsidebar.css">
    <link rel="stylesheet" href="./css/exammain.css">
    <style>
        /* Add custom CSS for scrollable container */
        #exambody {
            height: 700px; /* Set your desired height */
            overflow-y: scroll;
        }
    </style>
</head>

<body>

    <header>
        <!-- Header content -->
    </header>

    <div class="column">

        <div class="left">
            <!-- Left sidebar content -->
        </div>

        <div class="mid">
            <!-- Mid content -->
        </div>

        <!-- Main Exam Body Scrollable -->
        <div id="exambody">
            <div id="main-container">
                <!-- Initial content -->
                <div class="title">
                    <span class="title_bold">Topic:</span>
                    <span class="topic">Processor Management</span><br>
                </div>
                <div class="line"></div>
                <!-- Topic Div -->
                <div class="section1">
                    <div class="section_number">I</div>
                    <div class="instructions">
                        <span>Instructions</span><br>
                        <input class="textbox" type="text" name="f1" />
                    </div>
                </div>
                <!-- Question Div -->
                <div class="question-container">
                    <div class="question_number">1</div>
                    <div class="question">
                        <input id="textbox" type="text" name="f1" />
                        <form class="answer-options1">
                            <!-- Answer options -->
                        </form>
                        <div class="question_points">
                            <!-- Question points -->
                        </div>
                        <div class="learning_outcomes">
                            <!-- Learning outcomes -->
                        </div>
                        <div class="difficulty">
                            <!-- Difficulty -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Buttons to add sections and questions -->
            <div class="buttons">
                <button id="section" onclick="addSection()">+ ADD SECTION</button>
                <button id="question" onclick="addQuestion()">+ ADD QUESTION</button>
            </div>
        </div>

    </div>

    <!-- JavaScript -->
    <!-- <script src="./exammaker.js"></script> -->

    <script>
        let questionNumber = 1; // Initialize question number
        let sectionNumber = 1; // Initialize section number

        // JavaScript code for adding sections
        function addSection() {
            const node = document.querySelector(".section1");
            const clone = node.cloneNode(true);
            const sectionNumberElement = clone.querySelector(".section_number");

            // Increment section number for each clone and convert to Roman numeral
            sectionNumberElement.textContent = convertToRoman(sectionNumber++);
    
            document.getElementById("main-container").appendChild(clone);
        }

        // Function to convert number to Roman numeral
function convertToRoman(num) {
    const romanNumerals = [
        { value: 1000, numeral: "M" },
        { value: 900, numeral: "CM" },
        { value: 500, numeral: "D" },
        { value: 400, numeral: "CD" },
        { value: 100, numeral: "C" },
        { value: 90, numeral: "XC" },
        { value: 50, numeral: "L" },
        { value: 40, numeral: "XL" },
        { value: 10, numeral: "X" },
        { value: 9, numeral: "IX" },
        { value: 5, numeral: "V" },
        { value: 4, numeral: "IV" },
        { value: 1, numeral: "I" }
    ];

    let roman = "";
    romanNumerals.forEach(item => {
        while (num >= item.value) {
            roman += item.numeral;
            num -= item.value;
        }
    });

    return roman;
}

        // JavaScript code for adding questions
        function addQuestion() {
            const node = document.querySelector(".question-container");
            const clone = node.cloneNode(true);
            const questionNumbers = clone.querySelectorAll(".question_number");

            // Increment question number for each clone
            questionNumbers.forEach(number => {
                number.textContent = ++questionNumber;
            });

            document.getElementById("main-container").appendChild(clone);
        }
    </script>
</body>

</html>
